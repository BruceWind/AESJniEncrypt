{
    "sourceFile": "aesjni/src/main/jni/build_libsodium_for_all_android_abi.sh",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1664274774226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1664275252954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,6 +95,6 @@\n \n if [ $? -eq 0 ]; then\n   mv -v \"$SODIUM_CLONING_HOME\"/libsodium-android-* \"$SODIUM_INCLUDE_DIR\"\n   printf 'all of static libs move into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n-#   rm -rf \"$TEMP_DIR\"\n+  rm -rf \"$TEMP_DIR\"\n fi\n\\ No newline at end of file\n"
                },
                {
                    "date": 1664275298502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,9 @@\n # (such as python, libtool-bin) to resolve those errors.\n \n LIBSODIUM_GIT_TAG=1.0.18 # it is the last stable version that I have tested.\n \n+set \n #ROOT_DIR=$(pwd)\n \n # building libsodium needs to execute ndk-build,so there is detect whether $ANDROID_NDK_HOME exist.\n if [ ! \"$ANDROID_NDK_HOME\" ];then\n"
                },
                {
                    "date": 1664275843935,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,41 +10,36 @@\n # (such as python, libtool-bin) to resolve those errors.\n \n LIBSODIUM_GIT_TAG=1.0.18 # it is the last stable version that I have tested.\n \n-set \n #ROOT_DIR=$(pwd)\n \n # building libsodium needs to execute ndk-build,so there is detect whether $ANDROID_NDK_HOME exist.\n-if [ ! \"$ANDROID_NDK_HOME\" ];then\n-  printf \"ANDROID_NDK_HOME does not exist in environment. Please set ANDROID_NDK_HOME into your environment.\\n\"\n-  exit\n+if [ ! \"$ANDROID_NDK_HOME\" ]; then\n+    printf \"ANDROID_NDK_HOME does not exist in environment. Please set ANDROID_NDK_HOME into your environment.\\n\"\n+    exit\n fi\n \n SODIUM_INCLUDE_DIR=$(pwd)/sodium_include\n-if [ -d \"$SODIUM_INCLUDE_DIR\" ]; then  # if it exists,delete it.\n+if [ -d \"$SODIUM_INCLUDE_DIR\" ]; then # if it exists,delete it.\n     rm -rf \"$SODIUM_INCLUDE_DIR\"/libsodium-android*\n else\n-  mkdir sodium_include\n+    mkdir sodium_include\n fi\n \n TEMP_DIR=$(pwd)/temp\n if [ -d \"$TEMP_DIR\" ]; then # if it exists,delete it.\n     rm -rf \"$TEMP_DIR\"\n fi\n mkdir \"$TEMP_DIR\"\n \n-\n-\n SODIUM_CLONING_HOME=$TEMP_DIR/libsodium\n # clone\n git clone git@github.com:jedisct1/libsodium.git \"$SODIUM_CLONING_HOME\"\n cd \"$SODIUM_CLONING_HOME\" || exit\n git fetch --tags\n git checkout $LIBSODIUM_GIT_TAG # check specific verion.\n \n-\n-\n # && git pull\n \n # This can be removed once we pull from a release\n if [ ! -e \"$SODIUM_CLONING_HOME\"/configure ]; then\n@@ -92,10 +87,9 @@\n else\n     echo \"build-libsodium: skipping armv8-a, already built!\"\n fi\n \n-\n if [ $? -eq 0 ]; then\n-  mv -v \"$SODIUM_CLONING_HOME\"/libsodium-android-* \"$SODIUM_INCLUDE_DIR\"\n-  printf 'all of static libs move into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n-  rm -rf \"$TEMP_DIR\"\n-fi\n\\ No newline at end of file\n+    mv -v \"$SODIUM_CLONING_HOME\"/libsodium-android-* \"$SODIUM_INCLUDE_DIR\"\n+    printf 'all of static libs move into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n+    rm -rf \"$TEMP_DIR\"\n+fi\n"
                },
                {
                    "date": 1664276019388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,9 @@\n # (such as python, libtool-bin) to resolve those errors.\n \n LIBSODIUM_GIT_TAG=1.0.18 # it is the last stable version that I have tested.\n \n+set -e\n #ROOT_DIR=$(pwd)\n \n # building libsodium needs to execute ndk-build,so there is detect whether $ANDROID_NDK_HOME exist.\n if [ ! \"$ANDROID_NDK_HOME\" ]; then\n"
                },
                {
                    "date": 1664276626625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,7 +90,7 @@\n fi\n \n if [ $? -eq 0 ]; then\n     mv -v \"$SODIUM_CLONING_HOME\"/libsodium-android-* \"$SODIUM_INCLUDE_DIR\"\n-    printf 'all of static libs move into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n+    printf 'all of static libs moved into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n     rm -rf \"$TEMP_DIR\"\n fi\n"
                },
                {
                    "date": 1664276633465,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,7 +90,7 @@\n fi\n \n if [ $? -eq 0 ]; then\n     mv -v \"$SODIUM_CLONING_HOME\"/libsodium-android-* \"$SODIUM_INCLUDE_DIR\"\n-    printf 'all of static libs moved into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n+    printf 'all of static libs has been moved into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n     rm -rf \"$TEMP_DIR\"\n fi\n"
                },
                {
                    "date": 1664276645981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,7 +90,7 @@\n fi\n \n if [ $? -eq 0 ]; then\n     mv -v \"$SODIUM_CLONING_HOME\"/libsodium-android-* \"$SODIUM_INCLUDE_DIR\"\n-    printf 'all of static libs has been moved into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n+    printf 'All of static libs has been moved into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n     rm -rf \"$TEMP_DIR\"\n fi\n"
                }
            ],
            "date": 1664274774226,
            "name": "Commit-0",
            "content": "#!/bin/bash\n# This shell script got success on some environments:\n# ==========================================================\n# 1.MacOS with ndk r13.\n# 2.Ubuntu 20 with ndk-bundle.\n\n# ===========================Remind=========================\n# If you are running this shell for the first time, Pls look at terminal.\n# Some error might be thrown. You may need to install certain applications\n# (such as python, libtool-bin) to resolve those errors.\n\nLIBSODIUM_GIT_TAG=1.0.18 # it is the last stable version that I have tested.\n\n#ROOT_DIR=$(pwd)\n\n# building libsodium needs to execute ndk-build,so there is detect whether $ANDROID_NDK_HOME exist.\nif [ ! \"$ANDROID_NDK_HOME\" ];then\n  printf \"ANDROID_NDK_HOME does not exist in environment. Please set ANDROID_NDK_HOME into your environment.\\n\"\n  exit\nfi\n\nSODIUM_INCLUDE_DIR=$(pwd)/sodium_include\nif [ -d \"$SODIUM_INCLUDE_DIR\" ]; then  # if it exists,delete it.\n    rm -rf \"$SODIUM_INCLUDE_DIR\"/libsodium-android*\nelse\n  mkdir sodium_include\nfi\n\nTEMP_DIR=$(pwd)/temp\nif [ -d \"$TEMP_DIR\" ]; then # if it exists,delete it.\n    rm -rf \"$TEMP_DIR\"\nfi\nmkdir \"$TEMP_DIR\"\n\n\n\nSODIUM_CLONING_HOME=$TEMP_DIR/libsodium\n# clone\ngit clone git@github.com:jedisct1/libsodium.git \"$SODIUM_CLONING_HOME\"\ncd \"$SODIUM_CLONING_HOME\" || exit\ngit fetch --tags\ngit checkout $LIBSODIUM_GIT_TAG # check specific verion.\n\n\n\n# && git pull\n\n# This can be removed once we pull from a release\nif [ ! -e \"$SODIUM_CLONING_HOME\"/configure ]; then\n    ./autogen.sh\nfi\n\nLIBSODIUM_ARMV6=$SODIUM_CLONING_HOME/libsodium-android-armv6\nLIBSODIUM_ARMV7A=$SODIUM_CLONING_HOME/libsodium-android-armv7-a\nLIBSODIUM_I686=$SODIUM_CLONING_HOME/libsodium-android-i686\nLIBSODIUM_MIPS32=$SODIUM_CLONING_HOME/libsodium-android-mips32\nLIBSODIUM_ARMV8A=$SODIUM_CLONING_HOME/libsodium-android-armv8-a\n\n# Run the android builds\nif [ ! -d \"$LIBSODIUM_ARMV6\" ]; then\n    \"$SODIUM_CLONING_HOME\"/dist-build/android-arm.sh\n    echo \"build-libsodium: built armv6!\"\nelse\n    echo \"build-libsodium: skipping armv6, already built!\"\nfi\n\nif [ ! -d \"$LIBSODIUM_ARMV7A\" ]; then\n    \"$SODIUM_CLONING_HOME\"/dist-build/android-armv7-a.sh\n    echo \"build-libsodium: built armv7-a!\"\nelse\n    echo \"build-libsodium: skipping armv7-a, already built!\"\nfi\n\nif [ ! -d \"$LIBSODIUM_MIPS32\" ]; then\n    \"$SODIUM_CLONING_HOME\"/dist-build/android-mips32.sh\n    echo \"build-libsodium: built mips32!\"\nelse\n    echo \"build-libsodium: skipping mips32, already built!\"\nfi\n\nif [ ! -d \"$LIBSODIUM_I686\" ]; then\n    \"$SODIUM_CLONING_HOME\"/dist-build/android-x86.sh\n    echo \"build-libsodium: built x86!\"\nelse\n    echo \"build-libsodium: skipping x86, already built!\"\nfi\n\nif [ ! -d \"$LIBSODIUM_ARMV8A\" ]; then\n    \"$SODIUM_CLONING_HOME\"/dist-build/android-armv8-a.sh\n    echo \"build-libsodium: built armv8-a!\"\nelse\n    echo \"build-libsodium: skipping armv8-a, already built!\"\nfi\n\n\nif [ $? -eq 0 ]; then\n  mv -v \"$SODIUM_CLONING_HOME\"/libsodium-android-* \"$SODIUM_INCLUDE_DIR\"\n  printf 'all of static libs move into %s.\\n' \"$SODIUM_INCLUDE_DIR\"\n#   rm -rf \"$TEMP_DIR\"\nfi"
        }
    ]
}